<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reservation - RMMS</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

<header>
  <div class="header-container">
    <div class="left-section">
      <img src="images/logo.png" alt="Logo" class="logo" />
      <span class="title" onclick="location.href='RMMS.html'" style="cursor: pointer;">PAMANTASAN NG LUNGSOD NG PASIG</span>
    </div>
    <div class="right-section">
      <div class="search-bar">
        <input type="text" placeholder="Search..." aria-label="Search">
      </div>
      <div class="hamburger-container">
        <div class="hamburger" onclick="toggleMenu()" aria-label="Toggle menu">
          <div></div>
          <div></div>
          <div></div>
        </div>
        <nav id="navMenu">
          <a href="Home.html" class="btn Home-link">Home</a>
          <a href="Reserve.html" class="btn Reserve-link">Reserve</a>
          <a href="Buildlayout.html" class="btn Buildlayout-link">Building Layout</a>
          <a href="AboutUs.html" class="btn aboutus-link">About Us</a>
        </nav>
      </div>
      <div class="vertical-line"></div>
      <div class="datetime">
        <i class="fas fa-clock"></i> <span id="datetime">Loading...</span>
      </div>
    </div>
  </div>
</header>

<main class="floor-container"></main>

<div class="modal-overlay" id="modalOverlay">
  <div class="modal-content">
    <h2>Reserve Room <span id="roomNumberTitle"></span></h2>
    <form id="reservationForm">
      <input type="text" placeholder="Your Name" required>
      <input type="email" placeholder="Your Email" required>
      <input type="tel" placeholder="Contact Number" required>

      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" required>

      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" required>

      <label>Time Slots:</label>
      <div id="timeSlotContainer">
        <div class="time-slot-row">
          <input type="time" class="time-in" required> to
          <input type="time" class="time-out" required>
        </div>
      </div>
      <button type="button" onclick="addTimeSlot()">Add Time Slot</button><br>

      <br> <label for="role">Your Role:</label>
      <select id="role" required>
        <option value="">Select Role</option>
        <option>Student</option>
        <option>Professor</option>
        <option>Admin</option>
        <option>School Staff</option>
        <option>Guest</option>
        <option>Visitor</option>
      </select>

      <div class="notice" id="noticeMessage">
        Note: Reservation takes 3-5 working days to be processed if scheduled within the reserved dates.
      </div>

      <button type="submit">Confirm Reservation</button>
    </form>
  </div>
</div>

<footer>
  <p>&copy; 2025 Pamantasan Ng Lungsod Ng Pasig || Room Management Monitoring System || 
    <a href="Home.html" style="color: #ccc;">H O M E</a></p>
</footer>

<script>
  function toggleMenu() {
    document.getElementById("navMenu").classList.toggle("show");
  }

  document.addEventListener("click", function(event) {
    const nav = document.getElementById("navMenu");
    const hamburger = document.querySelector(".hamburger-container");
    if (!hamburger.contains(event.target) && !nav.contains(event.target)) {
      nav.classList.remove("show");
    }
  });

  function updateDateTime() {
    const now = new Date();
    const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const date = now.toLocaleDateString('en-GB');
    document.getElementById('datetime').textContent = `${time} // ${date}`;
  }

  setInterval(updateDateTime, 1000);
  updateDateTime();

  const main = document.querySelector('.floor-container');
  const modal = document.getElementById('modalOverlay');
  const roomNumberTitle = document.getElementById('roomNumberTitle');
  const form = document.getElementById('reservationForm');

  for (let floor = 1; floor <= 8; floor++) {
    const floorBox = document.createElement('div');
    floorBox.className = 'floor-box';

    const title = document.createElement('div');
    title.className = 'floor-title';
    title.textContent = `Floor ${floor}`;
    floorBox.appendChild(title);

    const roomContainer = document.createElement('div');
    roomContainer.className = 'room-buttons';

    for (let i = 0; i < 10; i++) {
      let roomNum = floor * 100 + (i + 1);
      const btn = document.createElement('button');
      btn.textContent = `Room ${roomNum}`;
      btn.onclick = () => {
        modal.style.display = 'flex';
        roomNumberTitle.textContent = roomNum;
      };
      roomContainer.appendChild(btn);
    }

    floorBox.appendChild(roomContainer);
    main.appendChild(floorBox);
  }

  window.onclick = function(event) {
    if (event.target === modal) {
      modal.style.display = "none";
    }
  };

  function addTimeSlot() {
    const container = document.getElementById('timeSlotContainer');
    const row = document.createElement('div');
    row.className = 'time-slot-row';
    row.innerHTML = '<input type="time" class="time-in" required> to <input type="time" class="time-out" required>';
    container.appendChild(row);
  }
</script>

</body>
</html>
